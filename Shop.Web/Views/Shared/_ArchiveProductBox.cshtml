@model Shop.Domain.ViewModels.Site.ProductListItemViewModel


<div class="col-lg-3 col-md-3 col-xs-12 order-1 d-block mb-3">
    <section class="product-box product product-type-simple">
        <div class="thumb">
            <a asp-controller="Product" asp-action="ProductDetail" asp-route-productId="@Model.ProductId" class="d-block">
                @if (Model.DicPercent != null)
                {
                    <div class="promotion-badge">فروش ویژه</div>
                }

                @if (Model.DicPercent != null)
                {
                    <div class="discount-d">
                        <span>@Model.DicPercent%<span>تخفیف</span></span>
                    </div>
                }

                <img src="/ImageProduct/Product/@Model.ProductImage" alt="@Model.ProductName" title="@Model.ProductName">
            </a>
        </div>
        <div class="title">
            <a asp-controller="Product" asp-action="ProductDetail" asp-route-productId="@Model.ProductId">
                @Model.ProductName
            </a>
        </div>
        @{
            int prcent = 0;
            if (Model.DicPercent != null)
            {
                prcent = (Model.Price * (int)Model.DicPercent) / 100;

            }
        }

        @if (Model.IsActive)
        {
            @if (Model.DicPercent != null)
            {
                <div class="price">
                    <span class="amount">
                        <del>@Model.Price.ToString("#,0")<span>تومان</span></del>
                        <span>@((Model.Price - prcent).ToString("#,0"))<span>تومان</span></span>
                    </span>
                </div>
            }
            else
            {
                <div class="price">
                    <span class="amount">
                        @Model.Price.ToString("#,0")
                        <span>تومان</span>
                    </span>
                </div>
            }
        }
        else
        {
            <div class="price">
                <span class="amount">
                    @Model.Price.ToString("#,0")
                    <span>تومان</span>
                </span>
            </div>
        }


    </section>
</div>


